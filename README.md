# 8bit音乐制作器

一个功能完备的8bit音乐和音效制作器，使用PyQt5开发。

## 功能特点

- 🎵 完整的8bit音乐制作功能
- 🔊 专业的音效制作工具
- 🎮 游戏开发者友好
- 🎨 直观的用户界面
- ⚡ 实时预览和播放

## 安装

```bash
pip install -r requirements.txt
```

## 运行

```bash
python main.py
```

## 项目结构

```
8bit_music_maker/
├── core/              # 核心模块
├── ui/                # UI模块
├── utils/             # 工具模块
├── data/              # 数据文件
└── main.py            # 程序入口
```

## 开发状态

当前版本：**V2.2（开发中，未发布 Tag）**

最近主要更新（相对于 V2.1）：

- **音轨与网格**
  - 取消了“部分渲染/可见区域渲染”的实验逻辑，恢复为**始终渲染全部音符**，修复前向滚动后看不到音符的问题。
  - 修复了点击整轨选择大量音符时卡死的问题，现在会分批选中并在 UI 线程中异步处理。
  - 修复了横向缩放时音符宽度与网格不同步的问题，保证任何缩放级别下，音符长度与拍线/小节线严格对齐。
- **播放线与时间轴**
  - 将播放线拖动统一到音轨区域顶部（时间轴区域），支持拖动与吸附到 1/4 拍。
  - 修复进度条拖动与播放更新之间的冲突，避免播放线在拖动时“弹回”。
  - 空格键行为改为**播放/暂停**（不再是播放/停止），停止仍使用单独的停止按钮。
- **示波器视图**
  - 重写了示波器时间轴与重绘逻辑，去掉多重高频定时器，改为由主播放定时器驱动，消除了波形“闪烁”和“走着走着突然退回”的问题。
  - 支持基于当前时间显示“正在播放/下一条”的伪代码文本，并支持自定义模板、多行显示以及 `{track_name}`、`{frequency}`、`{duration_ms}`、`{duty}` 等占位符。
  - 调整输出喇叭位置，避免被红色播放线遮挡，整体动画更顺滑、连贯。
- **音量与 UI**
  - 主音量滑块改为实时生效，不再在拖动结束时重新播放。
  - 修复主界面高度在某些布局下会短暂跳动的问题，使整体布局更加稳定。

以上改动已经全部合并到当前代码，将在打上 `V2.2` Tag 后作为新的版本基线。

## 许可证

MIT License

